{"version":3,"sources":["util/http/index.js","util/index.js","page/home/meta/homeReducer.js","page/sourcemap/meta/tabConfig.js","page/sourcemap/meta/sourcemapReducer.js","mock/modules sync nonrecursive //.js$","mock/modules/home.js","mock/modules/menu.js","util/loadable/index.js","router/routes.js","router/index.js","component/header/index.js","store/commonReducer.js","layout/index.js","store/reducer.js","store/index.js","component/hoc/withErrorBoundary.js","mock/index.js","util/appear/IOManager.js","util/appear/index.js","index.js"],"names":["instance","axios","create","interceptors","response","use","data","getFileContentFromUrl","url","a","get","download","name","split","pop","fetch","image","blob","imageBlob","imageURL","URL","createObjectURL","link","document","createElement","href","style","display","body","appendChild","click","removeChild","revokeObjectURL","checkSupportIO","window","formatDateTime","time","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","homeSlice","createSlice","initialState","cardList","filter","reducers","setCardList","state","action","list","payload","map","card","replace","color","slice","creator","labels","append","push","setFilter","actions","getCardList","dispatch","then","res","code","tabConfigList","key","desc","startLine","endLine","errorInfo","errorResult","sourcemapSlice","editConfigList","item","props","editConfigListErrorInfo","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","keys","Object","resolve","module","exports","Mock","mock","Random","path","loadable","importStatement","fallback","LazyComponent","lazy","HOC","routes","exact","component","Layout","Header","console","log","menuList","useSelector","common","className","menu","to","commonSlice","setMenuList","useDispatch","useEffect","_export","home","sourcemap","configureStore","reducer","ErrorBoundary","hasError","error","info","this","children","React","PureComponent","withErrorBoundary","context","require","mockFile","forEach","setup","timeout","DATA_BEFORE_Y","DATA_APPEARED","DATA_DISAPPEARED","defaultOptions","root","rootMargin","threshold","intersectionObserver","createEvent","type","detail","CustomEvent","cancelable","bubbles","isTrue","flag","createIntersectionObserver","options","IntersectionObserver","oberverHandler","entries","entry","intersectionRatio","target","boundingClientRect","currentY","y","top","beforeY","Number","getAttribute","direction","appearOnce","appeared","dispatchEvent","setAttribute","disappearOnce","disappeared","Node","nativeAddEventListener","prototype","addEventListener","listener","useCapture","element","observe","call","setupAppear","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.06328e12.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create();\n\ninstance.interceptors.response.use(function (response) {\n  return response.data;\n});\n\nexport default instance;\n","import axios from \"@/util/http\";\n\nasync function getFileContentFromUrl(url) {\n  return await axios.get(url);\n}\n\nasync function download(url) {\n  const name = url.split(\"/\").pop().split(\"?\")[0];\n  const image = await fetch(url);\n  const imageBlob = await image.blob();\n  const imageURL = URL.createObjectURL(imageBlob);\n  const link = document.createElement(\"a\");\n  link.href = imageURL;\n  link.download = name;\n  link.style.display = \"none\";\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(imageURL);\n}\n\nfunction checkSupportIO() {\n  // 考虑兼容性可以参考: https://github.com/w3c/IntersectionObserver/blob/main/polyfill/README.md\n  const name = \"IntersectionObserver\";\n  return name in window && `${name}Entry` in window;\n}\n\nfunction formatDateTime(time) {\n  const date = new Date(time);\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n  const second = date.getSeconds();\n  return `${year}-${month}-${day} ${hour}:${minute}:${second}`;\n}\n\nexport { getFileContentFromUrl, download, checkSupportIO, formatDateTime };\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"@/util/http\";\n\nexport const homeSlice = createSlice({\n  name: \"home\",\n  initialState: {\n    cardList: [],\n    filter: \"\",\n  },\n  reducers: {\n    setCardList(state, action) {\n      const list = action?.payload?.list?.map?.((card) => {\n        return {\n          url: card.url.replace(\"http://\", \"https://\") + \"/\" + card.color.slice(1),\n          creator: card.creator,\n          labels: card.labels,\n        };\n      });\n      action.payload?.append ? state.cardList.push(...list) : state.cardList = list;\n    },\n    setFilter(state, action) {\n      state.filter = action?.payload?.filter;\n    },\n  },\n});\n\nexport default homeSlice.reducer;\n\nexport const { setFilter } = homeSlice.actions;\n\nexport const getCardList =\n  ({ append = false } = {}) =>\n    (dispatch) => {\n      axios.get(\"/getCardList\").then((res) => {\n        if (res?.code !== 0) {\n          return;\n        }\n        dispatch(homeSlice.actions.setCardList({ list: res?.data, append }));\n      });\n    };\n","const function_1 = \n`function App() {\n  function onClick() {\n    throw new Error(\"test_1\");\n  };\n  return (\n    <div onClick={onClick}>click</div>\n  );\n}\n`;\nconst function_2 = \n`function App() {\n  function onClick() {\n    new Promise(() => {\n      throw new Error(\"test_2\");\n    })\n  };\n  return (\n    <div onClick={onClick}>click</div>\n  );\n}\n`;\nconst tabConfigList = [\n  {\n    key: \"test_1\",\n    name: \"测试用例 1\",\n    desc: \"回调函数中抛出 同步 异常。\",\n    code : function_1,\n    startLine: 3,\n    endLine: 3,\n    errorInfo: {},\n    errorResult: {},\n  },\n  {\n    key: \"test_2\",\n    name: \"测试用例 2\",\n    desc: \"回调函数中抛出 异步 异常。\",\n    code : function_2,\n    startLine: 4,\n    endLine: 4,\n    errorInfo: {},\n    errorResult: {},\n  }\n];\n\nexport default tabConfigList;\n","/* eslint-disable no-debugger */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport tabConfigList from \"./tabConfig\";\n\nexport const sourcemapSlice = createSlice({\n  name: \"sourcemap\",\n  initialState: {\n    tabConfigList: tabConfigList,\n  },\n  reducers: {\n    editConfigList(state, action) {\n      const key = action?.payload?.key;\n      if (!key) {\n        return;\n      }\n      const tabConfigList = state.tabConfigList.map((item) => {\n        if (item.key !== key) {\n          return item;\n        }\n        return {\n          ...item,\n          ...action?.payload?.props,\n        };\n      });\n      return {\n        ...state,\n        tabConfigList,\n      };\n    },\n    // 解决 同时编辑多个 errorInfo 属性，相互覆盖数据的问题\n    editConfigListErrorInfo(state, action) {\n      const key = action?.payload?.key;\n      if (!key) {\n        return;\n      }\n      const tabConfigList = state.tabConfigList.map((item) => {\n        if (item.key !== key) {\n          return item;\n        }\n        return {\n          ...item,\n          errorInfo: {\n            ...item.errorInfo,\n            ...action?.payload?.props,\n          },\n        };\n      });\n      return {\n        ...state,\n        tabConfigList,\n      };\n    },\n  },\n});\n\nexport default sourcemapSlice.reducer;\n\nexport const { editConfigList, editConfigListErrorInfo } = sourcemapSlice.actions;\n","var map = {\n\t\"./home.js\": 87,\n\t\"./menu.js\": 88\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 86;","import Mock, { Random } from \"mockjs\";\n\nMock.mock(/getCardList/, \"get\", {\n  code: 0,\n  \"data|20\": [\n    {\n      creator: \"@cname\",\n      \"labels|0-3\": [\"@word\"],\n      url: Random.image(\"200x200\"),\n      color: \"@color\",\n    }\n  ],\n});\n","import Mock from \"mockjs\";\nMock.mock(/getMenuList/, \"get\", () => {\n  return {\n    code: 0,\n    data: [\n      {\n        name: \"首页\",\n        path: \"/\",\n      },\n      {\n        name: \"sourceMap\",\n        path: \"/sourcemap\",\n      }\n    ],\n  };\n});\n","import { lazy, Suspense } from \"react\";\n\n// 懒加载\nexport default function loadable(importStatement, fallback = null) {\n  const LazyComponent = lazy(importStatement);\n  function HOC(props) {\n    return (\n      <Suspense fallback={fallback}>\n        <LazyComponent {...props} />\n      </Suspense>\n    );\n  }\n  return HOC;\n}\n","import loadable from \"@/util/loadable\";\n\nconst routes = [\n  {\n    path: \"/\",\n    exact: true,\n    component: loadable(() => import(\"../page/home\")),\n  },\n  {\n    path: \"/sourcemap\",\n    exact: true,\n    component: loadable(() => import(\"../page/sourcemap\")),\n  }\n];\n\nexport default routes;\n","import { Switch, Route } from \"react-router-dom\";\nimport routes from \"./routes\";\n\nexport default function Layout() {\n  return (\n    <Switch>\n      {routes.map((item) => {\n        return (\n          <Route key={item.path} path={item.path} exact={item.exact}>\n            <item.component />\n          </Route>\n        );\n      })}\n    </Switch>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport \"./index.scss\";\n\nexport default function Header() {\n  console.log(\"render header\");\n  const menuList = useSelector((state) => state.common.menuList);\n  return (\n    <div className=\"menu\">\n      {menuList.map((menu) => {\n        return (\n          <Link key={menu.path} to={menu.path} className=\"menu__item\">\n            {menu.name}\n          </Link>\n        );\n      })}\n    </div>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const commonSlice = createSlice({\n  name: \"common\",\n  initialState: {\n    menuList: [],\n  },\n  reducers: {\n    setMenuList(state, action) {\n      state.menuList = action?.payload?.list ?? [];\n    },\n  },\n});\n\nexport default commonSlice.reducer;\n\nexport const { setMenuList } = commonSlice.actions;\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Router from \"@/router\";\nimport Header from \"@/component/header\";\nimport axios from \"@/util/http\";\nimport { setMenuList } from \"@/store/commonReducer\";\nimport \"./index.scss\";\n\nexport default function Layout() {\n  console.log(\"render layout\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    axios.get(\"/getMenuList\").then((res) => {\n      if (res?.code !== 0) {\n        return;\n      }\n      dispatch(setMenuList({ list: res?.data }));\n    });\n  }, []);\n  return (\n    <div className=\"app\">\n      <Header />\n      <div className=\"app__page\">\n        <Router />\n      </div>\n    </div>\n  );\n}\n","import common from \"./commonReducer\";\nimport home from \"@/page/home/meta/homeReducer\";\nimport sourcemap from \"@/page/sourcemap/meta/sourcemapReducer\";\n\nconst _export = {\n  common,\n  home,\n  sourcemap,\n};\n\nexport default _export;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport reducer from \"./reducer\";\n\nexport default configureStore({\n  reducer: reducer,\n});\n","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass ErrorBoundary extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    console.log(\"componentDidCatch\", error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>something is wrong.</h1>;\n    }\n    const { children } = this.props;\n    return children;\n  }\n}\n\nErrorBoundary.propTypes = {\n  children: PropTypes.any,\n};\n\nfunction withErrorBoundary(WrappedComponent, errorBoundaryOptions) {\n  const WrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || \"unknown\";\n  const Wrapped = (props) => {\n    return (\n      <ErrorBoundary {...errorBoundaryOptions}>\n        <WrappedComponent {...props} />\n      </ErrorBoundary>\n    );\n  };\n  \n  \n  Wrapped.displayName = `errorBoundary_${WrappedComponentName}`;\n  return Wrapped;\n}\n\nexport {\n  ErrorBoundary\n};\n\nexport default withErrorBoundary;","import Mock from \"mockjs\";\n\nconst context = require.context(\"./modules\", false, /\\.js$/);\nconst mockFile = [];\n\ncontext.keys().forEach((key) => {\n  mockFile[key] = context(key);\n});\nconsole.log(\"%cmock 文件\", \"color: green\", mockFile);\n\nMock.setup({\n  timeout: \"500-1000\",\n});\n","import { checkSupportIO } from \"../index\";\n\nconst DATA_BEFORE_Y = \"data-before-y\";\nconst DATA_APPEARED = \"data-appeared\";\nconst DATA_DISAPPEARED = \"data-disappeared\";\nconst defaultOptions = {\n  root: null,\n  rootMargin: \"0px\",\n  threshold: 0,\n};\nlet intersectionObserver = null;\n\nfunction createEvent(type, detail = {}) {\n  return new CustomEvent(type, {\n    cancelable: true,\n    bubbles: false,\n    detail: detail,\n  });\n}\n\nfunction isTrue(flag) {\n  return flag === \"true\";\n}\n\nexport function createIntersectionObserver(options = defaultOptions) {\n  if (!checkSupportIO()) {\n    return;\n  }\n  intersectionObserver = new IntersectionObserver(oberverHandler, options);\n}\n\nexport function observerElement(element) {\n  if (!intersectionObserver) {\n    createIntersectionObserver();\n    return;\n  }\n  intersectionObserver.observe(element);\n}\n\nfunction oberverHandler(entries) {\n  entries.forEach((entry) => {\n    const { intersectionRatio, target, boundingClientRect } = entry;\n    const currentY = boundingClientRect.y ?? boundingClientRect.top;\n    let beforeY = Number(target.getAttribute(DATA_BEFORE_Y));\n    if (target.getAttribute(DATA_BEFORE_Y) === null) {\n      beforeY = currentY;\n    }\n    const direction = currentY > beforeY ? \"up\" : \"down\";\n    if (intersectionRatio > 0) {\n      const appearOnce = target.getAttribute(\"data-appear-once\");\n      const appeared = target.getAttribute(DATA_APPEARED);\n      if (isTrue(appearOnce) && isTrue(appeared)) {\n        return;\n      }\n      target.dispatchEvent(createEvent(\"appear\", { direction }));\n      target.setAttribute(DATA_APPEARED, true);\n    } else if (intersectionRatio === 0) {\n      const disappearOnce = target.getAttribute(\"data-disappear-once\");\n      const disappeared = target.getAttribute(DATA_DISAPPEARED);\n      if (isTrue(disappearOnce) && isTrue(disappeared)) {\n        return;\n      }\n      target.dispatchEvent(createEvent(\"disappear\", { direction }));\n      target.setAttribute(DATA_DISAPPEARED, true);\n    }\n    target.setAttribute(DATA_BEFORE_Y, currentY);\n  });\n}\n","import { createIntersectionObserver, observerElement } from \"./IOManager\";\n\nconst Node = window.Node;\nconst APPEARTYPE = \"appear\";\n\nexport function setupAppear() {\n  const nativeAddEventListener = Node.prototype.addEventListener;\n  createIntersectionObserver();\n  Node.prototype.addEventListener = function (type, listener, useCapture) {\n    if (type === APPEARTYPE) {\n      observerElement(this);\n    }\n    nativeAddEventListener.call(this, type, listener, useCapture);\n  };\n}\n","import ReactDOM from \"react-dom\";\nimport Layout from \"@/layout\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport store from \"@/store\";\nimport { Provider } from \"react-redux\";\nimport { ErrorBoundary } from \"./component/hoc/withErrorBoundary\";\nimport \"normalize.css\";\nimport \"./index.scss\";\nimport \"antd/dist/antd.css\";\nimport \"@/mock\";\nimport { setupAppear } from \"./util/appear\";\n\nsetupAppear(); // 监听节点的 appear 事件\n\nReactDOM.render(\n  <ErrorBoundary>\n    <Provider store={store}>\n      <Router>\n        <Layout />\n      </Router>\n    </Provider>\n  </ErrorBoundary>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}