(this["webpackJsonpperformance-optimization"]=this["webpackJsonpperformance-optimization"]||[]).push([[9],{405:function(n,e,t){},406:function(n,e,t){},758:function(n,e,t){"use strict";t.r(e);var o=t(89),a=t.n(o),r=t(317),s=t(84),c=(t(405),t(753)),i=t(732),u=(t(406),t(734)),l=t(0),m=t(2);function p(n){var e=n.content,t=n.startLine,o=n.endLine;return Object(m.jsx)("div",{className:"editor",children:Object(m.jsx)(u.a,{language:"javascript",theme:"vs",value:e,options:{readOnly:!0},editorDidMount:function(n){"number"===typeof t&&"number"===typeof o&&(t>o||n.deltaDecorations([],[{range:new u.b.Range(t,1,o,1),options:{isWholeLine:!0,className:"editor--hightlight"}}]))}})})}var b=Object(l.memo)(p),f=new Map;f.set("page",'import "./index.scss";\nimport { Tabs, Button } from "antd";\nimport Editor from "./component/Editor";\nimport { readFileContent } from "./util";\nimport { useEffect, useState } from "react";\nimport { getFileContentFromUrl } from "@/util";\n\nconst { TabPane } = Tabs;\n\nfunction Sourcemap() {\n  console.log("render sourcemap");\n  const [lineNo, setLineNo] = useState(458);\n  const [columnNo, setColumnNo] = useState(11);\n  const [url, setUrl] = useState("http://localhost:3000/static/js/8.chunk.js");\n  useEffect(() => {\n    window.onerror = function (msg, url, lineNo, columnNo) {\n      console.log("**", lineNo, columnNo, url);\n      setLineNo(lineNo);\n      setColumnNo(columnNo);\n      setUrl(url);\n      return false;\n    };\n  }, []);\n  useEffect(async () => {\n    const mapContent =await getFileContentFromUrl(`${url}.map`);\n    sourceMap.SourceMapConsumer.with(mapContent, null, (consumer) => {\n      console.log("**", consumer.originalPositionFor({\n        line: lineNo,\n        column: columnNo,\n      }));\n    });\n    return () => {\n    };\n  }, [lineNo, columnNo, url]);\n  function onClickTest_1() {\n    throw new Error("test 1...");\n  }\n  return (\n    <div className="sourcemap">\n      <div className="sourcemap__desc">\n        <h1>\u8bf4\u660e</h1>\n        <p>\u6b64\u9875\u9762\u4ec5\u7528\u4e8e\u6d4b\u8bd5 source map \u529f\u80fd\u3002</p>\n      </div>\n      <Tabs defaultActiveKey="1" className="sourcemap__test">\n        <TabPane tab="\u6d4b\u8bd5\u7528\u4f8b 1" key="1">\n          <Button type="primary" className="sourcemap__test__btn" onClick={onClickTest_1}>\u6d4b\u8bd5</Button>\n          <Editor content={readFileContent("page")} className="sourcemap__test__editor" startLine={10} endLine={16} />\n        </TabPane>\n        <TabPane tab="\u6d4b\u8bd5\u7528\u4f8b 2" key="2">\n            Content of Tab Pane 2\n        </TabPane>\n        <TabPane tab="\u6d4b\u8bd5\u7528\u4f8b 3" key="3">\n            Content of Tab Pane 3\n        </TabPane>\n      </Tabs>\n    </div>\n  );\n}\n\nexport default Sourcemap;\n');var d=t(22);function j(n){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(a.a.mark((function n(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.get(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var N=c.a.TabPane;e.default=function(){console.log("render sourcemap");var n,e=Object(l.useState)(458),t=Object(s.a)(e,2),o=t[0],u=t[1],p=Object(l.useState)(11),d=Object(s.a)(p,2),h=d[0],_=d[1],O=Object(l.useState)("http://localhost:3000/static/js/8.chunk.js"),g=Object(s.a)(O,2),v=g[0],w=g[1];return Object(l.useEffect)((function(){window.onerror=function(n,e,t,o){return console.log("**",t,o,e),u(t),_(o),w(e),!1}}),[]),Object(l.useEffect)(Object(r.a)(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j("".concat(v,".map"));case 2:return e=n.sent,sourceMap.SourceMapConsumer.with(e,null,(function(n){console.log("**",n.originalPositionFor({line:o,column:h}))})),n.abrupt("return",(function(){}));case 5:case"end":return n.stop()}}),n)}))),[o,h,v]),Object(m.jsxs)("div",{className:"sourcemap",children:[Object(m.jsxs)("div",{className:"sourcemap__desc",children:[Object(m.jsx)("h1",{children:"\u8bf4\u660e"}),Object(m.jsx)("p",{children:"\u6b64\u9875\u9762\u4ec5\u7528\u4e8e\u6d4b\u8bd5 source map \u529f\u80fd\u3002"})]}),Object(m.jsxs)(c.a,{defaultActiveKey:"1",className:"sourcemap__test",children:[Object(m.jsxs)(N,{tab:"\u6d4b\u8bd5\u7528\u4f8b 1",children:[Object(m.jsx)(i.a,{type:"primary",className:"sourcemap__test__btn",onClick:function(){throw new Error("test 1...")},children:"\u6d4b\u8bd5"}),Object(m.jsx)(b,{content:(n="page",f.has(n)?f.get(n):""),className:"sourcemap__test__editor",startLine:10,endLine:16})]},"1"),Object(m.jsx)(N,{tab:"\u6d4b\u8bd5\u7528\u4f8b 2",children:"Content of Tab Pane 2"},"2"),Object(m.jsx)(N,{tab:"\u6d4b\u8bd5\u7528\u4f8b 3",children:"Content of Tab Pane 3"},"3")]})]})}}}]);